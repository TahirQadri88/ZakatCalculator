<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- CRITICAL: Ensure proper scaling on all devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="app-title">Zakat Calculator & Nisab Check</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Add Noto Nastaliq Urdu font import */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400..700&display=swap');

        /* 1. Global Reset for robust responsiveness: CRITICAL FOR FIXING OVERFLOW */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        /* Prevent all horizontal scrolling */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            overflow-x: hidden; 
        }
        
        /* Main Container setup */
        .container-main {
            max-width: 768px; 
            margin: auto;
            background-color: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        /* Apply font to Urdu content */
        .nastaliq-font {
            font-family: 'Noto Nastaliq Urdu', 'Jameel Noori Nastaleeq', 'Times New Roman', serif;
            font-size: 1.05rem; /* Slightly larger base size */
            line-height: 2.5; /* Good spacing for paragraphs */
            padding-top: 8px; /* Extra padding for top characters */
            padding-bottom: 4px;
            
            /* V5 FIX: AGGRESSIVE WORD WRAPPING for mobile stability */
            max-width: 100%;
            word-break: break-word; /* Standard break-word behavior */
            overflow-wrap: break-word; /* Ensure long words break */
            hyphens: auto; /* Allow soft hyphens */
        }
        
        /* Special override for compact areas like Summary */
        .nastaliq-compact {
            line-height: 1.8 !important;
            padding-top: 4px !important;
        }

        /* 2. New robust input structure for dynamic items (Mobile First: Column) */
        .input-item-row {
            display: flex;
            flex-direction: column; /* Default: always stack vertically on mobile */
            gap: 6px; 
            padding: 8px 0;
            border-bottom: 1px dashed #e5e7eb;
            /* Ensure the row itself does not overflow */
            width: 100%;
            overflow: hidden;
        }

        .input-item-row > label {
            /* Ensure the label takes full width but wraps, and never shrinks vertically */
            flex-shrink: 0; 
            width: 100%;
            /* Ensure label content wraps within the 100% width */
            max-width: 100%;
            box-sizing: border-box;
        }
        
        /* 3. Desktop/Tablet (>= 640px) Layout */
        @media (min-width: 640px) {
            .input-item-row {
                flex-direction: row; /* LTR Desktop: label then input */
                align-items: center;
                gap: 1rem;
            }
            .input-item-row.rtl-row-desktop {
                /* For Urdu (RTL), reverse the order ONLY on desktop */
                flex-direction: row-reverse; 
            }
            .input-item-row > label {
                width: auto; /* Allow label to size naturally horizontally */
            }
        }
        
        /* Standard input styles */
        input[type="text"] {
            border: 1px solid #d1d5db;
            border-radius: 0.375rem; 
            padding: 0.5rem;
            width: 100%; /* Must be 100% to take full space in column mode */
            transition: border-color 0.15s ease-in-out;
            text-align: right;
            background-color: #f9fafb;
        }
        input[type="text"]:focus {
            border-color: #10b981; 
            outline: none;
        }

        /* Aesthetic styles */
        .section-header {
            background-color: #059669; 
            color: white;
            padding: 0.75rem 1rem;
            font-size: 1.125rem;
            font-weight: 600;
            margin-top: 1rem;
        }
        .section-header:first-of-type {
            margin-top: 0;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
        }
        .ruling-card {
            background-color: #ecfdf5; 
            border-left: 4px solid #059669;
            transition: all 0.2s;
            margin-bottom: 1rem !important;
        }
        .share-button {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            font-weight: bold;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
        }
        .share-button.primary {
            background-color: #10b981;
            color: white;
        }
        .share-button.secondary {
            background-color: #4f46e5;
            color: white;
        }
        .lang-toggle {
            background-color: #047857;
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
    </style>
</head>
<body class="p-4">

    <div id="main-content" class="container-main rounded-xl overflow-hidden shadow-2xl">
        <header class="bg-emerald-700 p-4 text-white rounded-t-xl">
            <div class="flex justify-between items-start">
                <div class="flex-grow text-center pr-10">
                    <h1 id="main-title" class="text-3xl font-extrabold mb-1">Zakat Calculator</h1>
                    <p id="main-subtitle" class="text-sm">Simple And Easy App to Calculate Zakat for Most Businesses and Salaried Individuals !</p>
                </div>
                <button id="lang-toggle-btn" onclick="switchLanguage()" class="lang-toggle">
                    Ø§Ø±Ø¯Ùˆ / Urdu
                </button>
            </div>
        </header>

        <main class="p-4 space-y-6">

            <!-- Zakat Date and Nisab Info -->
            <div class="bg-white p-4 rounded-lg shadow-md border border-gray-100 space-y-3">
                <!-- Date Input -->
                <div class="input-item-row !border-none">
                    <label id="label-zakat-date" for="lunar-date" class="text-sm text-gray-700 font-medium">Zakat Year End Date (Lunar)</label>
                    <input type="text" id="lunar-date" value="" class="text-right text-sm" placeholder="e.g., 1st of Ramadan 1447 AH">
                </div>
                
                <div id="nisab-card" class="bg-blue-50 border border-blue-200 p-3 rounded-lg text-sm text-blue-800 space-y-2">
                    <p id="nisab-criteria-text" class="font-medium mb-1">Nisab Eligibility Criteria (52.5 Tolas Silver)</p>
                    
                    <!-- Silver Price Input - Note: This input row MUST use the same robust layout -->
                    <div id="silver-price-row" class="input-item-row !gap-4 !border-none">
                        <label id="label-silver-price" for="silver-price" class="text-xs text-blue-600 font-medium">1. Price of 1 gram of Silver:</label>
                        <input type="text" id="silver-price" inputmode="numeric" placeholder="0" value="" class="text-right text-sm">
                    </div>
                    
                    <div class="flex justify-between items-center border-t border-blue-300 pt-2">
                        <span id="label-calculated-nisab" class="text-sm font-bold">2. Calculated Nisab Value:</span>
                        <span id="nisab-value" class="font-extrabold text-lg">0</span>
                    </div>
                </div>
            </div>

            <!-- Part I: Core Assets Liable for Zakat -->
            <div class="bg-white rounded-lg shadow-md border border-gray-100">
                <h2 id="part1-title" class="section-header rounded-t-lg">Part I: Core Assets Liable for Zakat (Inventory, Gold, Cash)</h2>
                <div id="assets-list" class="p-4 space-y-0">
                    <!-- Dynamic Asset Inputs -->
                </div>
                <div class="p-4 bg-emerald-50 rounded-b-lg border-t border-emerald-200 flex justify-between items-center font-bold text-lg text-emerald-800">
                    <span id="total-assets-label" class="uppercase">A. Total Core Assets</span>
                    <span id="total-assets">0</span>
                </div>
            </div>

            <!-- Part II: Accounts Receivable (Debts Owed to You) -->
            <div class="bg-white rounded-lg shadow-md border border-gray-100">
                <h2 id="part2-title" class="section-header bg-emerald-500">Part II: Accounts Receivable (Money Owed to You)</h2>
                <div id="receivables-list" class="p-4 space-y-0">
                    <!-- Dynamic Receivable Inputs -->
                </div>
                <div class="p-4 bg-emerald-50 rounded-b-lg border-t border-emerald-200 flex justify-between items-center font-bold text-lg text-emerald-800">
                    <span id="total-receivables-label" class="uppercase">B. Total Accounts Receivable</span>
                    <span id="total-receivables">0</span>
                </div>
            </div>

            <!-- Part III: Deductible Liabilities -->
            <div class="bg-white rounded-lg shadow-md border border-gray-100">
                <h2 id="part3-title" class="section-header bg-red-600">Part III: Deductible Liabilities (All Payables Are Deducted)</h2>
                <div id="liabilities-list" class="p-4 space-y-0">
                    <!-- Dynamic Liability Inputs -->
                </div>
                <div class="p-4 bg-red-50 rounded-b-lg border-t border-red-200 flex justify-between items-center font-bold text-lg text-red-800">
                    <span id="total-liabilities-label" class="uppercase">C. Total Deductible Liabilities</span>
                    <span id="total-liabilities">0</span>
                </div>
            </div>

            <!-- Part IV: Summary and Results -->
            <div class="bg-emerald-700 p-4 text-white rounded-lg shadow-xl">
                <h2 id="part4-title" class="text-xl font-bold mb-3">Part IV: Zakat Summary</h2>
                
                <div class="space-y-4">
                    <!-- Nisab Eligibility Status -->
                    <div id="nisab-status-container" class="py-2 px-3 rounded-md mb-2 font-medium bg-gray-500 text-center">
                        <span id="nisab-status-text">Enter Silver Price to Check Nisab...</span>
                    </div>

                    <!-- Summary Item 1: Total Zakat-able -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-emerald-500 pb-2">
                        <span id="total-zakat-able-label" class="text-emerald-100 text-sm sm:text-base mb-1 sm:mb-0">Total Zakat-able Wealth (A + B)</span>
                        <span id="total-zakat-able-wealth" class="font-extrabold text-xl self-end sm:self-auto">0</span>
                    </div>

                    <!-- Summary Item 2: Net Wealth -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-emerald-500 pb-2">
                        <span id="net-wealth-label" class="text-emerald-100 text-sm sm:text-base mb-1 sm:mb-0">Net Zakat-able Wealth (Total Wealth - C)</span>
                        <span id="net-wealth" class="font-extrabold text-xl self-end sm:self-auto">0</span>
                    </div>
                    
                    <!-- Final Zakat Box -->
                    <div class="bg-emerald-800 rounded-lg p-4 mt-2 flex flex-col items-center text-center shadow-inner">
                        <span id="final-zakat-label" class="text-lg sm:text-xl font-bold text-emerald-100 mb-1">FINAL ZAKAT PAYABLE (2.5%):</span>
                        <span id="zakat-payable" class="font-extrabold text-3xl sm:text-4xl text-yellow-300 tracking-wide mt-1">0</span>
                    </div>
                </div>

                <div class="mt-6 space-y-3">
                    <!-- Share Button -->
                    <button onclick="shareResults()" id="share-button" class="share-button primary">
                        <!-- Lucide Share2 SVG Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg>
                        <span id="share-button-text">Share Zakat Summary</span>
                    </button>
                    
                    <!-- App Installation Info Button (PWA) -->
                    <button onclick="showPwaInfo()" id="pwa-info-button" class="share-button secondary">
                        <!-- Lucide Download SVG Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 mr-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                        <span id="pwa-info-button-text">App Installation Info (PWA)</span>
                    </button>
                </div>

            </div>
            
            <!-- Essential Zakat Rulings -->
            <div class="bg-white rounded-xl p-4 shadow-lg">
                <h2 id="rulings-header" class="text-xl font-bold text-emerald-800 mb-4 border-b pb-2">ğŸ“Œ Essential Zakat Rulings & Principles</h2>
                <div id="rulings-content" class="space-y-4 text-gray-700">
                    <!-- Rulings will be inserted here -->
                </div>
            </div>

        </main>
        
        <footer class="bg-gray-100 p-4 text-center text-xs text-gray-500 border-t">
            <p id="footer-text" class="text-gray-500">Zakat Calculator according to Hanafi Fiqh by Darul Ifta AnNoor / Jamiat e Ishaat e Ahlesunnat Pakistan.</p>
            <p id="developed-by-text" class="mt-1 font-medium text-gray-600">Developed by Abul Laith Muhammad Tahir Qadri</p>
        </footer>

    </div>

    <!-- Custom Message Overlay (Modal) -->
    <div id="message-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 items-center justify-center p-4">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full text-center space-y-4">
            <h3 id="modal-title" class="text-xl font-bold text-indigo-700">App Information</h3>
            <p id="modal-content" class="text-gray-700"></p>
            <button onclick="hideModal()" id="modal-close-button" class="w-full py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition">
                Close
            </button>
        </div>
    </div>


    <script>
        // --- Global State and Constants ---
        const NISAB_GRAMS = 52.5 * 11.664; // 612.36 grams (52.5 Tolas)
        let currentNisabValue = 0;
        let currentLang = 'en'; // Default language is English

        // --- Utility Functions ---
        
        /**
         * Formats a raw number value for display (with commas).
         * @param {number} value - The numeric value to format.
         * @returns {string} The formatted string, or '0' if invalid.
         */
        const formatCurrency = (value) => {
            if (isNaN(value) || value < 0) return '0';
            return Math.round(value).toLocaleString('en-US');
        };

        /**
         * Cleans the input field value (removing commas) and returns the pure numeric value.
         * @param {string} id - The ID of the input element.
         * @returns {number} The cleaned numeric value.
         */
        const cleanInput = (id) => {
            const input = document.getElementById(id);
            if (!input) return 0; // Safety check
            const cleaned = input.value.replace(/,/g, '').replace(/[^0-9.]/g, '');
            return parseFloat(cleaned) || 0;
        };
        
        /**
         * Cleans the input value in real-time, formats it with commas for display, 
         * and ensures proper handling of the decimal point.
         * Then triggers the calculation.
         * @param {Event} e - The input event object.
         */
        const formatAndCleanInput = (e) => {
            const input = e.target;
            const originalValue = input.value;
            const selectionStart = input.selectionStart;
            
            // 1. Remove all non-digit/non-decimal characters
            let cleanedValue = originalValue.replace(/[^0-9.]/g, '');

            const oldLength = originalValue.length;

            // 2. Separate integer and potential fractional parts
            const parts = cleanedValue.split('.');
            let integerPart = parts[0];
            let fractionalPart = parts[1] !== undefined ? parts[1] : '';

            let newValue = '';

            // Handle non-empty integer part
            if (integerPart) {
                if (integerPart.length > 1 && integerPart.startsWith('0')) {
                    integerPart = integerPart.replace(/^0+/, '');
                }
                if (integerPart === '') integerPart = '0'; 

                try {
                    // Format the integer part with commas (using US locale)
                    const formattedInteger = new Intl.NumberFormat('en-US', { maximumFractionDigits: 0 }).format(parseInt(integerPart));
                    newValue = formattedInteger;
                } catch (error) {
                    newValue = integerPart;
                }
            }
            
            // 3. Reconstruct the value with the fractional part
            if (originalValue.includes('.')) {
                if (originalValue.endsWith('.') && parts.length === 2 && fractionalPart === '') {
                    newValue += '.';
                } else if (fractionalPart) {
                    newValue += '.' + fractionalPart;
                }
            } else if (originalValue === '') {
                newValue = '';
            } else if (originalValue === '.') {
                newValue = '0.';
            }

            input.value = newValue;

            // 4. Adjust the cursor position to keep it stable
            const newLength = newValue.length;
            const cursorDifference = newLength - oldLength;
            
            if (cursorDifference !== 0 && selectionStart !== null) {
                input.setSelectionRange(selectionStart + cursorDifference, selectionStart + cursorDifference);
            }
            
            // 5. Trigger the calculation
            calculateZakat();
        };


        // --- Core Calculator Logic ---
        function calculateZakat() {
            // 1. Get Nisab Value
            const silverPrice = cleanInput('silver-price');
            currentNisabValue = silverPrice * NISAB_GRAMS;
            document.getElementById('nisab-value').innerText = formatCurrency(currentNisabValue);

            // 2. Calculate Total Assets (A)
            let totalAssets = 0;
            assetsData.forEach(item => {
                const value = cleanInput(item.id);
                item.value = value;
                totalAssets += value;
            });
            document.getElementById('total-assets').innerText = formatCurrency(totalAssets);

            // 3. Calculate Total Receivables (B)
            let totalReceivables = 0;
            receivablesData.forEach(item => {
                const value = cleanInput(item.id);
                item.value = value;
                totalReceivables += value;
            });
            document.getElementById('total-receivables').innerText = formatCurrency(totalReceivables);

            // 4. Calculate Total Liabilities (C)
            let totalLiabilities = 0;
            liabilitiesData.forEach(item => {
                const value = cleanInput(item.id);
                item.value = value;
                totalLiabilities += value;
            });
            document.getElementById('total-liabilities').innerText = formatCurrency(totalLiabilities);

            // 5. Calculate Summary
            const totalZakatAbleWealth = totalAssets + totalReceivables;
            document.getElementById('total-zakat-able-wealth').innerText = formatCurrency(totalZakatAbleWealth);

            const netWealth = totalZakatAbleWealth - totalLiabilities;
            document.getElementById('net-wealth').innerText = formatCurrency(netWealth);

            // 6. Nisab Check and Final Zakat Calculation
            const nisabStatusContainer = document.getElementById('nisab-status-container');
            const nisabStatusText = document.getElementById('nisab-status-text');
            let zakatPayable = 0;
            const cleanedSilverPrice = cleanInput('silver-price');
            let nisabIsSet = cleanedSilverPrice > 0;
            
            nisabStatusContainer.className = 'py-2 px-3 rounded-md mb-2 font-medium text-center';

            if (!nisabIsSet) {
                nisabStatusContainer.classList.add('bg-gray-500');
                nisabStatusText.innerText = langStrings[currentLang].nisabPlaceholder;
            } else if (netWealth >= currentNisabValue) {
                // Zakat is due
                zakatPayable = netWealth * 0.025;
                nisabStatusContainer.classList.add('bg-green-600', 'text-white');
                nisabStatusText.innerText = langStrings[currentLang].nisabEligible;
            } else {
                // Zakat is not due
                nisabStatusContainer.classList.add('bg-red-600', 'text-white');
                nisabStatusText.innerText = langStrings[currentLang].nisabNotEligible;
                zakatPayable = 0;
            }
            
            document.getElementById('zakat-payable').innerText = formatCurrency(zakatPayable);
        }

        // --- Language Strings and Data (Rulings content omitted for brevity) ---
        // (The language strings and data from V3 are retained here in the actual code)
        const langStrings = {
            en: {
                title: "Zakat Calculator", subtitle: "Simple And Easy App to Calculate Zakat for Most Businesses and Salaried Individuals !", toggle: "Ø§Ø±Ø¯Ùˆ / Urdu",
                zakatDate: "Zakat Year End Date (Lunar)", silverPriceLabel: "1. Price of 1 gram of Silver:", nisabCriteria: "Nisab Eligibility Criteria (52.5 Tolas Silver)",
                calculatedNisab: "2. Calculated Nisab Value:", part1Title: "Part I: Core Assets Liable for Zakat (Inventory, Gold, Cash)",
                totalAssets: "A. Total Core Assets", part2Title: "Part II: Accounts Receivable (Money Owed to You)", totalReceivables: "B. Total Accounts Receivable",
                part3Title: "Part III: Deductible Liabilities (All Payables Are Deducted)", totalLiabilities: "C. Total Deductible Liabilities",
                part4Title: "Part IV: Zakat Summary", totalZakatAble: "Total Zakat-able Wealth (A + B)", netWealth: "Net Zakat-able Wealth (Total Wealth - C)",
                finalZakat: "FINAL ZAKAT PAYABLE (2.5%):", shareText: "Share Zakat Summary", pwaInfoText: "App Installation Info (PWA)",
                modalTitle: "App Information", modalContent: "This is a Progressive Web App (PWA). You can install it on your device (mobile/desktop) by using the 'Add to Home Screen' or 'Install App' option, usually found in your browser's main menu (e.g., the three-dot menu). This will allow the calculator to run quickly and offline.",
                modalClose: "Close", nisabPlaceholder: "Enter Silver Price to Check Nisab...", nisabEligible: "ELIGIBLE FOR ZAKAT: Net Wealth is above Nisab",
                nisabNotEligible: "NOT ELIGIBLE FOR ZAKAT: Net Wealth is below Nisab", footer: "Zakat Calculator according to Hanafi Fiqh by Darul Ifta AnNoor / Jamiat e Ishaat e Ahlesunnat Pakistan.",
                developedBy: "Developed by Abul Laith Muhammad Tahir Qadri", rulingsHeader: "ğŸ“Œ Essential Zakat Rulings & Principles",
            },
            ur: {
                title: "Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒÙ„Ú©ÙˆÙ„ÛŒÙ¹Ø±", subtitle: "Ú©Ø§Ø±ÙˆØ¨Ø§Ø±ÛŒ Ø§ÙˆØ± ØªÙ†Ø®ÙˆØ§Û Ø¯Ø§Ø± Ø§ÙØ±Ø§Ø¯ Ú©Û’ Ù„ÛŒÛ’ Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø¢Ø³Ø§Ù† ØªØ±ÛŒÙ† Ø­Ø³Ø§Ø¨ Ù„Ú¯Ø§Ù†Û’ ÙˆØ§Ù„ÛŒ Ø§ÛŒÙ¾ !", toggle: "English / Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ",
                zakatDate: "Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø³Ø§Ù„ Ù…Ú©Ù…Ù„ ÛÙˆÙ†Û’ Ú©ÛŒ ØªØ§Ø±ÛŒØ® (Ù‚Ù…Ø±ÛŒ)", silverPriceLabel: "1. Ú†Ø§Ù†Ø¯ÛŒ Ú©ÛŒ ÙÛŒ Ú¯Ø±Ø§Ù… Ù‚ÛŒÙ…Øª:", nisabCriteria: "Ù†ØµØ§Ø¨ Ú©ÛŒ Ø§ÛÙ„ÛŒØª (52.5 ØªÙˆÙ„Û Ú†Ø§Ù†Ø¯ÛŒ)",
                calculatedNisab: "2. Ø­Ø³Ø§Ø¨ Ø´Ø¯Û Ù†ØµØ§Ø¨ Ú©ÛŒ Ù…Ø§Ù„ÛŒØª:", part1Title: "Ø­ØµÛ Ø§ÙˆÙ„: Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø«Ø§Ø«Û’ (Ù…Ø§Ù„ ØªØ¬Ø§Ø±ØªØŒ Ø³ÙˆÙ†Ø§ØŒ Ù†Ù‚Ø¯)",
                totalAssets: "Ø§Ù„Ù. Ú©ÙÙ„ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø§Ø«Ø§Ø«Û’", part2Title: "Ø­ØµÛ Ø¯ÙˆÙ…: ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø±Ù‚ÙˆÙ… (Ø¢Ù¾ Ú©Ùˆ Ø¯ÙˆØ³Ø±ÙˆÚº Ø³Û’ ÙˆØµÙˆÙ„ ÛÙˆÙ†Û’ ÙˆØ§Ù„ÛŒ Ø±Ù‚Ù…)", totalReceivables: "Ø¨. Ú©ÙÙ„ ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø±Ù‚ÙˆÙ…",
                part3Title: "Ø­ØµÛ Ø³ÙˆÙ…: Ù‚Ø§Ø¨Ù„ Ú©Ù¹ÙˆØªÛŒ ÙˆØ§Ø¬Ø¨Ø§Øª (Ù‚Ø§Ø¨Ù„Ù Ø§Ø¯Ø§ ØªÙ…Ø§Ù… Ù‚Ø±Ø¶Û’)", totalLiabilities: "Ø¬. Ú©ÙÙ„ Ù‚Ø§Ø¨Ù„ Ú©Ù¹ÙˆØªÛŒ ÙˆØ§Ø¬Ø¨Ø§Øª",
                part4Title: "Ø­ØµÛ Ú†ÛØ§Ø±Ù…: Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø­ØªÙ…ÛŒ Ø®Ù„Ø§ØµÛ", totalZakatAble: "Ú©ÙÙ„ Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ Ù…Ø§Ù„ÛŒØª (Ø§Ù„Ù + Ø¨)", netWealth: "Ø®Ø§Ù„Øµ Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ Ù…Ø§Ù„ÛŒØª (Ú©ÙÙ„ Ù…Ø§Ù„ - Ø¬)",
                finalZakat: "ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø­ØªÙ…ÛŒ Ø²Ú©ÙˆÙ°Ûƒ (2.5%):", shareText: "Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø®Ù„Ø§ØµÛ Ø´Ø¦ÛŒØ± Ú©Ø±ÛŒÚº", pwaInfoText: "Ø§ÛŒÙ¾ Ø§Ù†Ø³Ù¹Ø§Ù„ÛŒØ´Ù† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª (PWA)",
                modalTitle: "Ø§ÛŒÙ¾ Ú©ÛŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", modalContent: "ÛŒÛ Ø§ÛŒÚ© Ù¾Ø±ÙˆÚ¯Ø±ÛŒØ³ÛŒÙˆ ÙˆÛŒØ¨ Ø§ÛŒÙ¾ (PWA) ÛÛ’Û” Ø¢Ù¾ Ø§Ø³Û’ Ø§Ù¾Ù†Û’ ÚˆÛŒÙˆØ§Ø¦Ø³ Ù¾Ø± Ø§Ù¾Ù†Û’ Ø¨Ø±Ø§Ø¤Ø²Ø± Ú©Û’ Ù…ÛŒÙ† Ù…ÛŒÙ†Ùˆ (Ø¬ÛŒØ³Û’ ØªÛŒÙ† Ù†Ù‚Ø·ÙˆÚº ÙˆØ§Ù„Ø§ Ù…ÛŒÙ†Ùˆ) Ù…ÛŒÚº Ù…ÙˆØ¬ÙˆØ¯ 'Add to Home Screen' ÛŒØ§ 'Install App' Ø¢Ù¾Ø´Ù† Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ” Ø§Ø³ Ø³Û’ Ú©ÛŒÙ„Ú©ÙˆÙ„ÛŒÙ¹Ø± ØªÛŒØ²ÛŒ Ø³Û’ Ø§ÙˆØ± Ø¢Ù Ù„Ø§Ø¦Ù† Ú†Ù„ Ø³Ú©Û’ Ú¯Ø§Û”",
                modalClose: "Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº", nisabPlaceholder: "Ù†ØµØ§Ø¨ Ú©ÛŒ Ø¬Ø§Ù†Ú† Ú©Û’ Ù„ÛŒÛ’ Ú†Ø§Ù†Ø¯ÛŒ Ú©ÛŒ Ù‚ÛŒÙ…Øª Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº...", nisabEligible: "Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù„ÛŒÛ’ Ø§ÛÙ„: Ø®Ø§Ù„Øµ Ù…Ø§Ù„ Ù†ØµØ§Ø¨ Ø³Û’ Ø²Ø§Ø¦Ø¯ ÛÛ’",
                nisabNotEligible: "Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù„ÛŒÛ’ Ø§ÛÙ„ Ù†ÛÛŒÚº: Ø®Ø§Ù„Øµ Ù…Ø§Ù„ Ù†ØµØ§Ø¨ Ø³Û’ Ú©Ù… ÛÛ’", footer: "ÛŒÛ Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒÙ„Ú©ÙˆÙ„ÛŒÙ¹Ø± ÙÙ‚Û Ø­Ù†ÙÛŒ Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ ØªÛŒØ§Ø± Ú©ÛŒØ§ Ú¯ÛŒØ§ ÛÛ’Û”",
                developedBy: "ÚˆÙˆÛŒÙ„Ù¾Ø±: Ø§Ø¨Ùˆ Ø§Ù„Ù„ÛŒØ« Ù…Ø­Ù…Ø¯ Ø·Ø§ÛØ± Ù‚Ø§Ø¯Ø±ÛŒ", rulingsHeader: "ğŸ“Œ Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ø§ÛÙ… Ø§Ø­Ú©Ø§Ù… Ùˆ Ø§ØµÙˆÙ„",
            }
        };

        const assetsData = [
            { id: 'gold', label_en: '1. Gold (Jewelry, Bars, Ornaments)', label_ur: '1. Ø³ÙˆÙ†Ø§ (Ø²ÛŒÙˆØ±Ø§ØªØŒ Ø¨Ø§Ø±Ø²ØŒ Ø¢Ø±Ø§Ø¦Ø´ÛŒ Ø§Ø´ÛŒØ§Ø¡)', value: 0 },
            { id: 'silver', label_en: '2. Silver (Jewelry, Utensils, Ornaments)', label_ur: '2. Ú†Ø§Ù†Ø¯ÛŒ (Ø²ÛŒÙˆØ±Ø§ØªØŒ Ø¨Ø±ØªÙ†ØŒ Ø¢Ø±Ø§Ø¦Ø´ÛŒ Ø§Ø´ÛŒØ§Ø¡)', value: 0 },
            { id: 'cash', label_en: '3. Cash & Currency (Local and Foreign)', label_ur: '3. Ù†Ù‚Ø¯ Ø±Ù‚Ù… Ø§ÙˆØ± Ú©Ø±Ù†Ø³ÛŒ (Ù…Ù‚Ø§Ù…ÛŒ Ùˆ ØºÛŒØ± Ù…Ù„Ú©ÛŒ)', value: 0 },
            { id: 'bankFunds', label_en: '4. Funds in Bank Accounts', label_ur: '4. Ø¨ÛŒÙ†Ú© Ø§Ú©Ø§Ø¤Ù†Ù¹Ø³ Ù…ÛŒÚº Ù…ÙˆØ¬ÙˆØ¯ ÙÙ†ÚˆØ²', value: 0 }, 
            { id: 'prizeBonds', label_en: '5. Prize Bonds / Investment Certificates', label_ur: '5. Ù¾Ø±Ø§Ø¦Ø² Ø¨Ø§Ù†ÚˆØ² / Ø³Ø±Ù…Ø§ÛŒÛ Ú©Ø§Ø±ÛŒ Ú©Û’ Ø³Ø±Ù¹ÛŒÙÛŒÚ©ÛŒÙ¹', value: 0 },
            { id: 'pfFunds', label_en: '6. Provident Fund (PF) Funds', label_ur: '6. Ù¾Ø±Ø§ÙˆÛŒÚˆÙ†Ù¹ ÙÙ†Úˆ (PF) Ù…ÛŒÚº Ø¬Ù…Ø¹ Ø´Ø¯Û Ø±Ù‚Ù…', value: 0 },
            { id: 'committeeMoney', label_en: '7. Money in Committee or Group Schemes', label_ur: '7. Ú©Ù…ÛŒÙ¹ÛŒ ÛŒØ§ Ú¯Ø±ÙˆÙ¾ Ø§Ø³Ú©ÛŒÙ…ÙˆÚº Ù…ÛŒÚº Ø¬Ù…Ø¹ Ø´Ø¯Û Ø±Ù‚Ù…', value: 0 },
            { id: 'rawMaterials', label_en: '8. Trade Goods: Raw Materials', label_ur: '8. Ù…Ø§Ù„ ØªØ¬Ø§Ø±Øª: Ø®Ø§Ù… Ù…Ø§Ù„ Ú©ÛŒ Ù…Ø§Ù„ÛŒØª', value: 0 },
            { id: 'finishedProducts', label_en: '9. Trade Goods: Finished Products / Stock', label_ur: '9. Ù…Ø§Ù„ ØªØ¬Ø§Ø±Øª: ØªÛŒØ§Ø± Ø´Ø¯Û Ù…ØµÙ†ÙˆØ¹Ø§Øª / Ø§Ø³Ù¹Ø§Ú© Ú©ÛŒ Ù…Ø§Ù„ÛŒØª', value: 0 },
            { id: 'assetsResale', label_en: '10. Assets Purchased for Resale (Land, Property)', label_ur: '10. Ø¨Ø±Ø§Ø¦Û’ ÙØ±ÙˆØ®Øª Ø§Ø«Ø§Ø«Û’ (Ø²Ù…ÛŒÙ†ØŒ Ø¬Ø§Ø¦ÙŠØ¯Ø§Ø¯)', value: 0 },
            { id: 'partnershipShare', label_en: '11. Your Share in Business Partnership Assets', label_ur: '11. Ú©Ø§Ø±ÙˆØ¨Ø§Ø±ÛŒ Ø´Ø±Ø§Ú©Øª Ø¯Ø§Ø±ÛŒ Ú©Û’ Ø§Ø«Ø§Ø«ÙˆÚº Ù…ÛŒÚº Ø¢Ù¾ Ú©Ø§ Ø­ØµÛ', value: 0 },
        ];

        const receivablesData = [
            { id: 'loansGiven', label_en: '12. Loans Given to Others (You are the creditor)', label_ur: '12. Ø¯ÙˆØ³Ø±ÙˆÚº Ú©Ùˆ Ø¯ÛŒÛ’ Ú¯Ø¦Û’ Ù‚Ø±Ø¶Û’ (ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„)', value: 0 },
            { id: 'accountReceivable', label_en: '13. Accounts Receivable (Money owed by customers)', label_ur: '13. Ú¯Ø§ÛÚ©ÙˆÚº Ø³Û’ ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ú©Ú¾Ø§ØªÛ’ (Accounts Receivable)', value: 0 },
            { id: 'otherReceivables', label_en: '14. Other Receivables (Refunds Due, etc.)', label_ur: '14. Ø¯ÛŒÚ¯Ø± ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø±Ù‚ÙˆÙ… (Ø¬ÛŒØ³Û’ ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø±ÛŒÙÙ†ÚˆØ²)', value: 0 },
        ];

        const liabilitiesData = [
            { id: 'personalLoans', label_en: 'Outstanding Personal Loans', label_ur: 'ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø°Ø§ØªÛŒ Ù‚Ø±Ø¶Û’', value: 0 },
            { id: 'dueInstallments', label_en: 'Due Installments (for property, car, etc.)', label_ur: 'ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ù‚Ø³Ø·ÛŒÚº (Ø¬Ø§Ø¦ÙŠØ¯Ø§Ø¯ØŒ Ú©Ø§Ø±ØŒ ÙˆØºÛŒØ±Û Ú©ÛŒ)', value: 0 },
            { id: 'payableCommittee', label_en: 'Remaining Payable Committee Funds (If total fund received)', label_ur: 'ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ú©Ù…ÛŒÙ¹ÛŒ ÙÙ†ÚˆØ² (Ø§Ú¯Ø± Ú©Ù„ Ø±Ù‚Ù… ÙˆØµÙˆÙ„ Ú©Ø± Ù„ÛŒ ÛÙˆ)', value: 0 },
            { id: 'utilityBills', label_en: 'Outstanding Utility Bills (received before Zakat Due Date)', label_ur: 'Ø¨Ù‚Ø§ÛŒØ§ ÛŒÙˆÙ¹ÛŒÙ„ÛŒÙ¹ÛŒ Ø¨Ù„Ø² (Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ ØªØ§Ø±ÛŒØ® Ø³Û’ Ù¾ÛÙ„Û’ Ú©Û’)', value: 0 },
            { id: 'supplierPayments', label_en: 'Payments Due to Suppliers / Dealers', label_ur: 'Ø³Ù¾Ù„Ø§Ø¦Ø±Ø² ÛŒØ§ ÚˆÛŒÙ„Ø±Ø² Ú©Ùˆ Ù‚Ø§Ø¨Ù„Ù Ø§Ø¯Ø§ Ø±Ù‚ÙˆÙ…', value: 0 },
            { id: 'unpaidSalaries', label_en: 'Unpaid Salaries to Employees/Staff', label_ur: 'Ù…Ù„Ø§Ø²Ù…ÛŒÙ†/Ø¹Ù…Ù„Û’ Ú©Ùˆ ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ ØªÙ†Ø®ÙˆØ§ÛÛŒÚº', value: 0 },
            { id: 'unpaidZakat', label_en: 'Unpaid Zakat from the previous year', label_ur: 'Ù¾Ú†Ú¾Ù„Û’ Ø³Ø§Ù„ Ú©ÛŒ ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø²Ú©ÙˆÙ°Ûƒ', value: 0 },
        ];
        
        const rulingsData = [
            {
                title_en: "1. Obligation and Eligibility (Who Must Pay)",
                title_ur: "1. ÙØ±Ø¶ÛŒØª Ø§ÙˆØ± Ø§ÛÙ„ÛŒØª (Ú©ÙˆÙ† Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø¯Ø§ Ú©Ø±Û’ Ú¯Ø§)",
                content: `
                    Zakat is <b>Fard (obligatory)</b> upon an individual who meets the following five conditions:<br/>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Status:</b> Must be a Muslim, sane, and adult (reached puberty).</li>
                        <li><b>Possession (Nisab):</b> Must own wealth equal to or exceeding the minimum threshold (Sahib-e-Nisab).</li>
                        <li><b>Ownership:</b> The wealth must be in the individual's absolute control (Full Ownership).</li>
                        <li><b>Surplus:</b> The wealth must be surplus to basic, immediate living needs (e.g., personal residence, primary vehicle, necessary tools).</li>
                        <li><b>Duration (Hawlan-e-Hawl):</b> One full lunar year must have passed since the Nisab was first acquired.</li>
                    </ul>
                `,
                urdu: `
                    Ø²Ú©ÙˆÙ°Ûƒ Ø§ÛŒÚ© ÙØ±Ø¯ Ù¾Ø± <b>ÙØ±Ø¶ (Ù„Ø§Ø²Ù…ÛŒ)</b> ÛÛ’ Ø¬Ùˆ Ù…Ù†Ø¯Ø±Ø¬Û Ø°ÛŒÙ„ Ù¾Ø§Ù†Ú† Ø´Ø±Ø§Ø¦Ø· Ù¾ÙˆØ±ÛŒ Ú©Ø±ØªØ§ ÛÙˆ:<br/>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>Ø­ÛŒØ«ÛŒØª:</b> Ù…Ø³Ù„Ù…Ø§Ù†ØŒ Ø¹Ø§Ù‚Ù„ Ø§ÙˆØ± Ø¨Ø§Ù„Øº (Ø¨Ù„ÙˆØºØª Ú©Ùˆ Ù¾ÛÙ†Ú†Ø§ ÛÙˆØ§) ÛÙˆÛ”</li>
                        <li><b>Ù…Ù„Ú©ÛŒØª (Ù†ØµØ§Ø¨):</b> Ú©Ù… Ø§Ø² Ú©Ù… Ø­Ø¯ (ØµØ§Ø­Ø¨Ù Ù†ØµØ§Ø¨) Ú©Û’ Ø¨Ø±Ø§Ø¨Ø± ÛŒØ§ Ø§Ø³ Ø³Û’ Ø²ÛŒØ§Ø¯Û Ù…Ø§Ù„ÛŒØª Ú©Ø§ Ù…Ø§Ù„Ú© ÛÙˆÛ”</li>
                        <li><b>Ù…Ù„Ú©ÛŒØª:</b> Ù…Ø§Ù„ Ù¾Ø± ÙØ±Ø¯ Ú©Ø§ Ù…Ú©Ù…Ù„ Ú©Ù†Ù¹Ø±ÙˆÙ„ ÛÙˆ (Ú©Ø§Ù…Ù„ Ù…Ù„Ú©ÛŒØª)Û”</li>
                        <li><b>Ø§Ø¶Ø§ÙÛŒ Ù…Ø§Ù„:</b> Ù…Ø§Ù„ Ø¨Ù†ÛŒØ§Ø¯ÛŒØŒ ÙÙˆØ±ÛŒ Ø¶Ø±ÙˆØ±ÛŒØ§Øª Ø²Ù†Ø¯Ú¯ÛŒ Ø³Û’ Ø²Ø§Ø¦Ø¯ ÛÙˆ (Ù…Ø«Ù„Ø§Ù‹ Ø°Ø§ØªÛŒ Ø±ÛØ§Ø¦Ø´ØŒ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ú¯Ø§Ú‘ÛŒØŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§ÙˆØ²Ø§Ø±)Û”</li>
                        <li><b>Ù…Ø¯Øª (Ø­ÙˆÙ„Ø§Ù†Ù Ø­ÙˆÙ„):</b> Ù†ØµØ§Ø¨ Ø­Ø§ØµÙ„ Ú©Ø±Ù†Û’ Ú©Û’ Ø¨Ø¹Ø¯ Ø³Û’ Ø§ÛŒÚ© Ù…Ú©Ù…Ù„ Ù‚Ù…Ø±ÛŒ Ø³Ø§Ù„ Ú¯Ø²Ø± Ú†Ú©Ø§ ÛÙˆÛ”</li>
                    </ul>
                `,
                class: 'eligibility'
            },
            {
                title_en: "2. The Nisab and Combination Rule",
                title_ur: "2. Ù†ØµØ§Ø¨ Ø§ÙˆØ± Ø§Ù…ÙˆØ§Ù„ Ú©Ùˆ Ù…Ù„Ø§Ù†Û’ Ú©Ø§ Ø§ØµÙˆÙ„",
                content: `
                    The Nisab for <b>Silver</b> is the default standard: <b>52.5 Tolas</b> (approx. 612.36 grams). Its current market value is used to calculate the Nisab for currency, mixed assets, and trade goods.<br/><br/>
                    The Nisab for <b>Gold</b> is <b>7.5 Tolas</b> (approx. 87.48 grams) and applies only if the individual owns solely gold.<br/><br/>
                    <b>The Combination Rule:</b> If an individual possesses a mixture of any Zakat-able assets (Gold, Silver, Currency, Trade Goods), the total value of these assets must be combined. If this combined total equals or exceeds the monetary value of the <b>Silver Nisab</b>, Zakat is due on the entire combined amount.
                `,
                urdu: `
                    <b>Ú†Ø§Ù†Ø¯ÛŒ Ú©Ø§ Ù†ØµØ§Ø¨</b> Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ù…Ø¹ÛŒØ§Ø± ÛÛ’: <b>Ø³Ø§Ú‘Ú¾Û’ Ø¨Ø§ÙˆÙ† ØªÙˆÙ„Û</b> (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ 612.36 Ú¯Ø±Ø§Ù…)Û” Ø§Ø³ Ú©ÛŒ Ù…ÙˆØ¬ÙˆØ¯Û Ø¨Ø§Ø²Ø§Ø±ÛŒ Ù‚ÛŒÙ…Øª Ú©Ø±Ù†Ø³ÛŒØŒ Ù…Ø®Ù„ÙˆØ· Ø§Ø«Ø§Ø«ÙˆÚº Ø§ÙˆØ± Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª Ú©Û’ Ù†ØµØ§Ø¨ Ú©Ø§ Ø­Ø³Ø§Ø¨ Ù„Ú¯Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ ÛÙˆØªÛŒ ÛÛ’Û”<br/><br/>
                    <b>Ø³ÙˆÙ†Û’ Ú©Ø§ Ù†ØµØ§Ø¨</b> <b>Ø³Ø§Ú‘Ú¾Û’ Ø³Ø§Øª ØªÙˆÙ„Û</b> (ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ 87.48 Ú¯Ø±Ø§Ù…) ÛÛ’ Ø§ÙˆØ± Ø§Ø³ Ù¾Ø± ØµØ±Ù Ø§Ø³ÛŒ ØµÙˆØ±Øª Ù…ÛŒÚº Ø²Ú©ÙˆÙ°Ûƒ ÙˆØ§Ø¬Ø¨ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ø¨ ÙØ±Ø¯ Ú©Û’ Ù¾Ø§Ø³ ØµØ±Ù Ø³ÙˆÙ†Ø§ ÛÙˆÛ”<br/><br/>
                    <b>Ø§Ù…ÙˆØ§Ù„ Ú©Ùˆ Ù…Ù„Ø§Ù†Û’ Ú©Ø§ Ø§ØµÙˆÙ„:</b> Ø§Ú¯Ø± Ø§ÛŒÚ© ÙØ±Ø¯ Ú©Û’ Ù¾Ø§Ø³ Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø«Ø§Ø«ÙˆÚº (Ø³ÙˆÙ†Ø§ØŒ Ú†Ø§Ù†Ø¯ÛŒØŒ Ú©Ø±Ù†Ø³ÛŒØŒ Ù…Ø§Ù„ ØªØ¬Ø§Ø±Øª) Ú©Ø§ Ù…Ø¬Ù…ÙˆØ¹Û ÛÙˆØŒ ØªÙˆ Ø§Ù† Ø³Ø¨ Ú©ÛŒ Ú©ÙÙ„ Ù…Ø§Ù„ÛŒØª Ú©Ùˆ Ø¬Ù…Ø¹ Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’ Ú¯Ø§Û” Ø§Ú¯Ø± ÛŒÛ Ù…Ø¬Ù…ÙˆØ¹ÛŒ Ù…Ø§Ù„ÛŒØª <b>Ú†Ø§Ù†Ø¯ÛŒ Ú©Û’ Ù†ØµØ§Ø¨</b> Ú©ÛŒ Ù‚ÛŒÙ…Øª Ú©Û’ Ø¨Ø±Ø§Ø¨Ø± ÛŒØ§ Ø§Ø³ Ø³Û’ Ø²ÛŒØ§Ø¯Û ÛÙˆØŒ ØªÙˆ Ù¾ÙˆØ±ÛŒ Ø¬Ù…Ø¹ Ø´Ø¯Û Ø±Ù‚Ù… Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ ÙˆØ§Ø¬Ø¨ ÛÙˆ Ú¯ÛŒÛ”
                `,
                class: ''
            },
            {
                title_en: "3. Zakat-able Assets (Amwal-e-Zakat)",
                title_ur: "3. Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø«Ø§Ø«Û’ (Ø§Ù…ÙˆØ§Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ)",
                content: `
                    Zakat is due on wealth that has the potential for growth. The core categories are:<br/>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li>Gold, Silver (including jewelry, even if worn).</li>
                        <li>Currency (cash, bank deposits, savings).</li>
                        <li>Prize Bonds, Marketable Securities, or Investment Certificates.</li>
                        <li>Trade Goods (inventory purchased with the <b>explicit intention to sell it</b>).</li>
                        <li>Grazing Animals (livestock that graze freely for the majority of the year). <b>Consult a Mufti / Scholar for calculating their Zakat.</b></li>
                    </ul>
                `,
                urdu: `
                    Ø²Ú©ÙˆÙ°Ûƒ ØµØ±Ù Ø§ÛŒØ³Û’ Ù…Ø§Ù„ Ù¾Ø± ÙˆØ§Ø¬Ø¨ ÛÛ’ Ø¬Ùˆ Ø¨Ú‘Ú¾Ù†Û’ ÛŒØ§ Ø²ÛŒØ§Ø¯Û ÛÙˆÙ†Û’ Ú©ÛŒ ØµÙ„Ø§Ø­ÛŒØª Ø±Ú©Ú¾ØªØ§ ÛÙˆÛ” Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø²Ù…Ø±Û’ ÛŒÛ ÛÛŒÚº:<br/>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li>Ø³ÙˆÙ†Ø§ØŒ Ú†Ø§Ù†Ø¯ÛŒ (Ø¨Ø´Ù…ÙˆÙ„ Ù¾ÛÙ†Û’ Ø¬Ø§Ù†Û’ ÙˆØ§Ù„Û’ Ø²ÛŒÙˆØ±Ø§Øª)Û”</li>
                        <li>Ú©Ø±Ù†Ø³ÛŒ (Ù†Ù‚Ø¯ Ø±Ù‚Ù…ØŒ Ø¨ÛŒÙ†Ú© Ù…ÛŒÚº Ø¬Ù…Ø¹ Ø´Ø¯Û Ø±Ù‚Ù…ØŒ Ø¨Ú†Øª)Û”</li>
                        <li>Ù¾Ø±Ø§Ø¦Ø² Ø¨Ø§Ù†ÚˆØ²ØŒ Ù‚Ø§Ø¨Ù„ ÙØ±ÙˆØ®Øª Ø³ÛŒÚ©ÛŒÙˆØ±Ù¹ÛŒØ²ØŒ ÛŒØ§ Ø³Ø±Ù…Ø§ÛŒÛ Ú©Ø§Ø±ÛŒ Ú©Û’ Ø³Ø±Ù¹ÛŒÙÛŒÚ©ÛŒÙ¹Û”</li>
                        <li>Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª (Ø§Ø³Ù¹Ø§Ú© Ø¬Ùˆ <b>ØµØ±ÛŒØ­Ø§Ù‹ Ø¨ÛŒÚ†Ù†Û’ Ú©ÛŒ Ù†ÛŒØª Ø³Û’ Ø®Ø±ÛŒØ¯Ø§ Ú¯ÛŒØ§ ÛÙˆ</b>).</li>
                        <li>Ú†Ø±Ø§Ø¦ÛŒ Ú©Û’ Ø¬Ø§Ù†ÙˆØ± (ÙˆÛ Ù…ÙˆÛŒØ´ÛŒ Ø¬Ùˆ Ø³Ø§Ù„ Ú©Ø§ Ø¨ÛŒØ´ØªØ± Ø­ØµÛ Ù…ÙØª Ú†Ø§Ø±Û’ Ù¾Ø± Ú¯Ø²Ø§Ø±ØªÛ’ ÛÙˆÚº)Û” <b>Ø§ÙÙ† Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø­Ø³Ø§Ø¨ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©Ø³ÛŒ Ù…ÙØªÛŒ / Ø¹Ø§Ù„Ù… Ø³Û’ Ù…Ø´ÙˆØ±Û Ú©Ø±ÛŒÚºÛ”</b></li>
                    </ul>
                `,
                class: ''
            },
            {
                title_en: "4. Rulings on Non-Zakat-able (Exempt) Assets",
                title_ur: "4. ØºÛŒØ± Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ (Ù…Ø³ØªØ«Ù†ÛŒÙ°) Ø§Ø«Ø§Ø«ÙˆÚº Ú©Û’ Ø§Ø­Ú©Ø§Ù…",
                content: `
                    Assets not held for the purpose of trade or growth are generally exempt. For example:<br/>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li>Personal residence, necessary tools, and primary vehicle.</li>
                        <li>Fixed business assets like factory machinery, office computers, or shop furniture.</li>
                    </ul>
                    <p class="mt-2 mb-2 text-sm text-gray-700">
                        <b>Important Clarification:</b> If the item itself is purchased with the <b>explicit intention of resale</b> (e.g., furniture in a furniture shop's inventory), it is Zakat-able as a Trade Good.
                    </p>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li>Assets purchased only for <b>renting them out</b> (e.g., rental property) are exempt, but the <b>rental income</b> (if saved for a year) is Zakat-able.</li>
                    </ul>
                `,
                urdu: `
                    ÙˆÛ Ø§Ø«Ø§Ø«Û’ Ø¬Ùˆ ØªØ¬Ø§Ø±Øª ÛŒØ§ Ø¨Ú‘Ú¾ÙˆØªØ±ÛŒ Ú©Û’ Ù…Ù‚ØµØ¯ Ú©Û’ Ù„ÛŒÛ’ Ù†Û ÛÙˆÚºØŒ Ø¹Ø§Ù… Ø·ÙˆØ± Ù¾Ø± Ù…Ø³ØªØ«Ù†ÛŒÙ° ÛÛŒÚºÛ” Ù…Ø«Ø§Ù„ Ú©Û’ Ø·ÙˆØ± Ù¾Ø±:<br/>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li>Ø°Ø§ØªÛŒ Ø±ÛØ§Ø¦Ø´ØŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§ÙˆØ²Ø§Ø±ØŒ Ø§ÙˆØ± Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ú¯Ø§Ú‘ÛŒÛ”</li>
                        <li>Ú©Ø§Ø±ÙˆØ¨Ø§Ø± Ú©Û’ ÙÚ©Ø³Úˆ Ø§Ø«Ø§Ø«Û’ Ø¬ÛŒØ³Û’ ÙÛŒÚ©Ù¹Ø±ÛŒ Ú©ÛŒ Ù…Ø´ÛŒÙ†Ø±ÛŒØŒ Ø¢ÙØ³ Ú©Ù…Ù¾ÛŒÙˆÙ¹Ø±ØŒ ÛŒØ§ Ø¯Ú©Ø§Ù† Ú©Ø§ ÙØ±Ù†ÛŒÚ†Ø±Û”</li>
                    </ul>
                    <p class="mt-2 mb-2 text-sm text-gray-700 text-right">
                        <b>Ø§ÛÙ… ÙˆØ¶Ø§Ø­Øª:</b> Ø§Ú¯Ø± Ú©ÙˆØ¦ÛŒ Ú†ÛŒØ² Ø§ØµÙ„ Ù…ÛŒÚº Ø°Ø§ØªÛŒ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Û’ Ù„ÛŒÛ’ Ø®Ø±ÛŒØ¯ÛŒ Ú¯Ø¦ÛŒ ØªÚ¾ÛŒ Ø§ÙˆØ± Ù…Ø§Ù„Ú© Ø¨Ø¹Ø¯ Ù…ÛŒÚº Ø§Ø³Û’ Ø¨ÛŒÚ†Ù†Û’ Ú©Ø§ ÙÛŒØµÙ„Û Ú©Ø± Ù„ÛŒØªØ§ ÛÛ’ØŒ ØªÙˆ Ø§Ø³Û’ Ø¹Ø§Ù… Ø·ÙˆØ± Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù…Ù‚Ø§ØµØ¯ Ú©Û’ Ù„ÛŒÛ’ Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª Ù†ÛÛŒÚº Ø³Ù…Ø¬Ú¾Ø§ Ø¬Ø§Ø¦Û’ Ú¯Ø§ Ú©ÛŒÙˆÙ†Ú©Û Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Û’ ÙˆÙ‚Øª Ø¨ÛŒÚ†Ù†Û’ Ú©ÛŒ Ù†ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛÛŒÚº ØªÚ¾ÛŒÛ”
                    </p>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li>ØµØ±Ù <b>Ú©Ø±Ø§ÛŒÛ Ù¾Ø± Ø¯ÛŒÙ†Û’ Ú©Û’ Ù„ÛŒÛ’</b> Ø®Ø±ÛŒØ¯Û’ Ú¯Ø¦Û’ Ø§Ø«Ø§Ø«Û’ (Ù…Ø«Ù„Ø§Ù‹ Ú©Ø±Ø§Ø¦Û’ Ú©ÛŒ Ù¾Ø±Ø§Ù¾Ø±Ù¹ÛŒ) Ù…Ø³ØªØ«Ù†ÛŒÙ° ÛÛŒÚºØŒ Ù„ÛŒÚ©Ù† <b>Ú©Ø±Ø§ÛŒÛ Ú©ÛŒ Ø¢Ù…Ø¯Ù†ÛŒ</b> (Ø§Ú¯Ø± Ø§ÛŒÚ© Ø³Ø§Ù„ ØªÚ© Ø¨Ú†Øª ÛÙˆ) Ù‚Ø§Ø¨Ù„Ù Ø²Ú©ÙˆÙ°Ûƒ ÛÛ’Û”</li>
                    </ul>
                `,
                class: ''
            },
            // Ruling 5
            {
                title_en: "5. Definition of Trade Goods (Mal-e-Tijarat) and Valuation",
                title_ur: "5. Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª Ú©ÛŒ ØªØ¹Ø±ÛŒÙ Ø§ÙˆØ± Ù‚ÛŒÙ…Øª Ú©Ø§ ØªØ¹ÛŒÙ†",
                content: `
                    <b>Intention at Purchase:</b> Goods are considered "trade goods" only if they were purchased with the explicit intention of selling them for profit.
                    <br/><br/>
                    <b>Change of Status:</b> If an item was originally purchased for personal use and the owner later decides to sell it, it is generally not considered a trade good for Zakah purposes because the intention was not present at the time of purchase.
                    <br/><br/>
                    <b>Determining the Value for Zakah:</b>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Current Market Price:</b> The value of the goods is based on their market price at the completion of the year, not the original purchase price.</li>
                        <li><b>Wholesale vs. Retail:</b> Wholesalers use the wholesale price of their inventory. Retailers use the retail price.</li>
                        <li><b>Location and Date:</b> The price considered is the one prevailing in the area where the goods are located on the specific day the Zakah year ends.</li>
                    </ul>
                `,
                urdu: `
                    <b>Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Û’ ÙˆÙ‚Øª Ù†ÛŒØª:</b> Ù…Ø§Ù„ Ú©Ùˆ "Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª" ØµØ±Ù Ø§Ø³ÛŒ ØµÙˆØ±Øª Ù…ÛŒÚº Ø³Ù…Ø¬Ú¾Ø§ Ø¬Ø§Ø¦Û’ Ú¯Ø§ Ø¬Ø¨ Ø§Ø³Û’ Ù…Ù†Ø§ÙØ¹ Ú©Ù…Ø§Ù†Û’ Ú©ÛŒ ØµØ±ÛŒØ­ Ù†ÛŒØª Ø³Û’ Ø®Ø±ÛŒØ¯Ø§ Ú¯ÛŒØ§ ÛÙˆÛ”
                    <br/><br/>
                    <b>Ø­ÛŒØ«ÛŒØª Ú©ÛŒ ØªØ¨Ø¯ÛŒÙ„ÛŒ:</b> Ø§Ú¯Ø± Ú©ÙˆØ¦ÛŒ Ú†ÛŒØ² Ø§ØµÙ„ Ù…ÛŒÚº Ø°Ø§ØªÛŒ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Û’ Ù„ÛŒÛ’ Ø®Ø±ÛŒØ¯ÛŒ Ú¯Ø¦ÛŒ ØªÚ¾ÛŒ Ø§ÙˆØ± Ù…Ø§Ù„Ú© Ø¨Ø¹Ø¯ Ù…ÛŒÚº Ø§Ø³Û’ Ø¨ÛŒÚ†Ù†Û’ Ú©Ø§ ÙÛŒØµÙ„Û Ú©Ø± Ù„ÛŒØªØ§ ÛÛ’ØŒ ØªÙˆ Ø§Ø³Û’ Ø¹Ø§Ù… Ø·ÙˆØ± Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù…Ù‚Ø§ØµØ¯ Ú©Û’ Ù„ÛŒÛ’ Ù…Ø§Ù„Ù ØªØ¬Ø§Ø±Øª Ù†ÛÛŒÚº Ø³Ù…Ø¬Ú¾Ø§ Ø¬Ø§Ø¦Û’ Ú¯Ø§ Ú©ÛŒÙˆÙ†Ú©Û Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ú©Û’ ÙˆÙ‚Øª Ø¨ÛŒÚ†Ù†Û’ Ú©ÛŒ Ù†ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛÛŒÚº ØªÚ¾ÛŒÛ”
                    <br/><br/>
                    <b>Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù„ÛŒÛ’ Ù‚ÛŒÙ…Øª Ú©Ø§ ØªØ¹ÛŒÙ†:</b>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>Ù…ÙˆØ¬ÙˆØ¯Û Ø¨Ø§Ø²Ø§Ø±ÛŒ Ù‚ÛŒÙ…Øª:</b> Ù…Ø§Ù„ Ú©ÛŒ Ù‚ÛŒÙ…Øª Ú©Ø§ ØªØ¹ÛŒÙ† Ø³Ø§Ù„ Ú©Û’ Ø§Ø®ØªØªØ§Ù… Ù¾Ø± Ø§Ø³ Ú©ÛŒ Ø¨Ø§Ø²Ø§Ø±ÛŒ Ù‚ÛŒÙ…Øª Ú©ÛŒ Ø¨Ù†ÛŒØ§Ø¯ Ù¾Ø± Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’ Ú¯Ø§ØŒ Ù†Û Ú©Û Ø§ØµÙ„ Ø®Ø±ÛŒØ¯ Ù‚ÛŒÙ…Øª Ù¾Ø±Û”</li>
                        <li><b>ØªÚ¾ÙˆÚ© Ø¨Ù…Ù‚Ø§Ø¨Ù„Û Ù¾Ø±Ú†ÙˆÙ†:</b> ØªÚ¾ÙˆÚ© ÙØ±ÙˆØ´ Ø§Ù¾Ù†Û’ Ø§Ø³Ù¹Ø§Ú© Ú©ÛŒ Ù…Ø§Ù„ÛŒØª ØªÚ¾ÙˆÚ© Ù‚ÛŒÙ…Øª Ù¾Ø± Ù„Ú¯Ø§Ø¦ÛŒÚº Ú¯Û’Û” Ù¾Ø±Ú†ÙˆÙ† ÙØ±ÙˆØ´ Ù¾Ø±Ú†ÙˆÙ† Ù‚ÛŒÙ…Øª Ù¾Ø± Ù„Ú¯Ø§Ø¦ÛŒÚº Ú¯Û’Û”</li>
                        <li><b>Ù…Ù‚Ø§Ù… Ø§ÙˆØ± ØªØ§Ø±ÛŒØ®:</b> Ø¬Ùˆ Ù‚ÛŒÙ…Øª Ù…Ø¹ØªØ¨Ø± ÛÛ’ ÙˆÛ ÛÛ’ Ø¬Ùˆ Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø³Ø§Ù„ Ù…Ú©Ù…Ù„ ÛÙˆÙ†Û’ Ú©Û’ Ø¯Ù†ØŒ Ø§ÙØ³ Ø¹Ù„Ø§Ù‚Û’ Ù…ÛŒÚº Ø±Ø§Ø¦Ø¬ ÛÙˆ Ø¬ÛØ§Úº Ù…Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯ ÛÛ’Û”</li>
                    </ul>
                `,
                class: 'important'
            },
            {
                title_en: "6. Wifeâ€™s Zakat Liability", 
                title_ur: "6. Ø¨ÛŒÙˆÛŒ Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ", 
                content: `
                    If a woman owns gold or silver that meets the Nisab, she is responsible for paying its Zakat. If she lacks the necessary cash, she is obligated to either borrow the amount or sell a portion of the gold/silver to fulfill the obligation. <b>It is permissible for her husband to pay her Zakat from his own assets, provided he does so with her consent.</b>
                `,
                urdu: `
                    Ø§Ú¯Ø± Ø§ÛŒÚ© Ø¹ÙˆØ±Øª Ú©Û’ Ù¾Ø§Ø³ Ø³ÙˆÙ†Ø§ ÛŒØ§ Ú†Ø§Ù†Ø¯ÛŒ ÛÛ’ Ø¬Ùˆ Ù†ØµØ§Ø¨ Ú©Ùˆ Ù¾ÛÙ†Ú† Ø¬Ø§Ø¦Û’ØŒ ØªÙˆ Ø§Ø³ Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø¯Ø§ Ú©Ø±Ù†Û’ Ú©ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ Ø§Ø³ÛŒ Ù¾Ø± ÛÛ’Û” Ø§Ú¯Ø± Ø§Ø³ Ú©Û’ Ù¾Ø§Ø³ Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ù„ÛŒÛ’ Ù†Ù‚Ø¯ Ø±Ù‚Ù… Ù†Û ÛÙˆØŒ ØªÙˆ Ø§Ø³Û’ ÛŒØ§ ØªÙˆ Ù‚Ø±Ø¶ Ù„ÛŒÙ†Ø§ Ù¾Ú‘Û’ Ú¯Ø§ ÛŒØ§ Ø§Ù¾Ù†ÛŒ Ø²Ú©ÙˆÙ°Ûƒ Ù¾ÙˆØ±ÛŒ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø³ÙˆÙ†Û’/Ú†Ø§Ù†Ø¯ÛŒ Ú©Ø§ Ú©Ú†Ú¾ Ø­ØµÛ ÙØ±ÙˆØ®Øª Ú©Ø±Ù†Ø§ ÛÙˆ Ú¯Ø§Û” <b>Ø´ÙˆÛØ± Ú©Û’ Ù„ÛŒÛ’ Ø§Ù¾Ù†ÛŒ Ø±Ù‚Ù… Ø³Û’ Ø¨ÛŒÙˆÛŒ Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø¯Ø§ Ú©Ø±Ù†Ø§ Ø¬Ø§Ø¦Ø² ÛÛ’ØŒ Ø¨Ø´Ø±Ø·ÛŒÚ©Û ÙˆÛ Ø¨ÛŒÙˆÛŒ Ú©ÛŒ Ø±Ø¶Ø§Ù…Ù†Ø¯ÛŒ Ø³Û’ Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’</b>Û”
                `,
                class: 'important'
            },
            {
                title_en: "7. Zakat on Receivables (Dayn) - When it is Due (Hanafi)", 
                title_ur: "7. ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø±Ù‚ÙˆÙ… (Ø¯ÙÛŒÙ†) Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ - Ú©Ø¨ ÙˆØ§Ø¬Ø¨ ÛÙˆ Ú¯ÛŒ (ÙÙ‚Û Ø­Ù†ÙÛŒ)", 
                content: `
                    Zakat on receivables (debts owed to you) depends on the nature of the debt (Hanafi ruling):<br/>
                    <br/>
                    <b>1) Strong Receivable (Dayn QawÄ«)</b>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Definition:</b> Debt arising from loan or sale on credit (money or trade goods).</li>
                        <li><b>Ruling:</b> Zakat is obligatory on the amount for all past years, but payment is due only after you actually receive it. When received, pay Zakat for the previous years (2.5% per year).</li>
                    </ul>
                    <hr class="my-3 border-gray-300"/>
                    <b>2) Medium Receivable (Dayn Mutawassiá¹­)</b>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Definition:</b> Debt from non-trade exchange (e.g., rent owed, wages owed).</li>
                        <li><b>Ruling:</b> Zakat becomes obligatory only after receipt, and only for one year (not past years).</li>
                    </ul>
                    <hr class="my-3 border-gray-300"/>
                    <b>3) Weak Receivable (Dayn á¸ŒaÊ¿Ä«f)</b>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Definition:</b> Debt not directly substituting wealth (e.g., mahr before possession, blood money, inheritance before division).</li>
                        <li><b>Ruling:</b> No Zakat until received and a full lunar year passes thereafter.</li>
                    </ul>
                    <br/>
                    <b>Practical Notes (Hanafi):</b>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Unlikely/recoverable debt:</b> If genuinely doubtful, no Zakat until received; then apply the category above.</li>
                        <li><b>Partial recovery:</b> Zakat applies only to what is actually received.</li>
                        <li><b>Intention:</b> Zakat intention is made at the time of payment after receipt.</li>
                    </ul>
                `,
                urdu: `
                    ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ø±Ù‚ÙˆÙ… (Ø¢Ù¾ Ú©Ùˆ Ø¯ÙˆØ³Ø±ÙˆÚº Ø³Û’ ÙˆØµÙˆÙ„ ÛÙˆÙ†Û’ ÙˆØ§Ù„ÛŒ Ø±Ù‚Ù…) Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø§Ù†Ø­ØµØ§Ø± Ù‚Ø±Ø¶ Ú©ÛŒ Ù†ÙˆØ¹ÛŒØª Ù¾Ø± ÛÛ’ (ÙÙ‚Û Ø­Ù†ÙÛŒ Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚):<br/>
                    <br/>
                    <b>1) Ù‚ÙˆÛŒ Ø¯ÙÛŒÙ† (Dayn QawÄ«)</b>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>ØªØ¹Ø±ÛŒÙ:</b> Ù‚Ø±Ø¶ ÛŒØ§ Ø§Ø¯Ú¾Ø§Ø± Ù¾Ø± ÙØ±ÙˆØ®Øª (Ù†Ù‚Ø¯ Ø±Ù‚Ù… ÛŒØ§ Ù…Ø§Ù„ ØªØ¬Ø§Ø±Øª) Ø³Û’ Ù¾ÛŒØ¯Ø§ ÛÙˆÙ†Û’ ÙˆØ§Ù„Ø§ Ù‚Ø±Ø¶Û”</li>
                        <li><b>Ø­Ú©Ù…:</b> Ú©ÙÙ„ Ø±Ù‚Ù… Ù¾Ø± Ù¾Ú†Ú¾Ù„Û’ ØªÙ…Ø§Ù… Ø³Ø§Ù„ÙˆÚº Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ ÙØ±Ø¶ ÛÛ’ØŒ Ù„ÛŒÚ©Ù† Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ ØµØ±Ù ÙˆØµÙˆÙ„ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ ÙˆØ§Ø¬Ø¨ ÛÙˆ Ú¯ÛŒÛ” ÙˆØµÙˆÙ„ ÛÙˆÙ†Û’ Ù¾Ø± Ù¾Ú†Ú¾Ù„Û’ Ø³Ø§Ù„ÙˆÚº Ú©ÛŒ Ø²Ú©ÙˆÙ°Ûƒ (ÛØ± Ø³Ø§Ù„ Ú©Ø§ 2.5%) Ø§Ø¯Ø§ Ú©Ø±ÛŒÚºÛ”</li>
                    </ul>
                    <hr class="my-3 border-gray-300"/>
                    <b>2) Ù…ØªÙˆØ³Ø· Ø¯ÙÛŒÙ† (Dayn Mutawassiá¹­)</b>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>ØªØ¹Ø±ÛŒÙ:</b> ØºÛŒØ± ØªØ¬Ø§Ø±ØªÛŒ Ù„ÛŒÙ† Ø¯ÛŒÙ† Ø³Û’ Ù¾ÛŒØ¯Ø§ ÛÙˆÙ†Û’ ÙˆØ§Ù„Ø§ Ù‚Ø±Ø¶ (Ù…Ø«Ù„Ø§Ù‹ ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ú©Ø±Ø§ÛŒÛØŒ ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø§Ø¬Ø±Øª/ØªÙ†Ø®ÙˆØ§Û)Û”</li>
                        <li><b>Ø­Ú©Ù…:</b> Ø²Ú©ÙˆÙ°Ûƒ ØµØ±Ù ÙˆØµÙˆÙ„ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ ÙˆØ§Ø¬Ø¨ ÛÙˆØªÛŒ ÛÛ’ØŒ Ø§ÙˆØ± ØµØ±Ù Ø§ÛŒÚ© Ø³Ø§Ù„ Ú©ÛŒ (Ù¾Ú†Ú¾Ù„Û’ Ø³Ø§Ù„ÙˆÚº Ú©ÛŒ Ù†ÛÛŒÚº)Û”</li>
                    </ul>
                    <hr class="my-3 border-gray-300"/>
                    <b>3) Ø¶Ø¹ÛŒÙ Ø¯ÙÛŒÙ† (Dayn á¸ŒaÊ¿Ä«f)</b>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>ØªØ¹Ø±ÛŒÙ:</b> ÙˆÛ Ù‚Ø±Ø¶ Ø¬Ùˆ Ø¨Ø±Ø§Û Ø±Ø§Ø³Øª Ù…Ø§Ù„ Ú©Ø§ Ø¨Ø¯Ù„ Ù†Û ÛÙˆ (Ù…Ø«Ù„Ø§Ù‹ Ù‚Ø¨Ø¶Û’ Ø³Û’ Ù¾ÛÙ„Û’ Ù…ÛØ±ØŒ Ø¯ÛŒØª/Ø®ÙˆÙ† Ú©ÛŒ Ø±Ù‚Ù…ØŒ ØªÙ‚Ø³ÛŒÙ… Ø³Û’ Ù¾ÛÙ„Û’ ÙˆØ±Ø§Ø«Øª)Û”</li>
                        <li><b>Ø­Ú©Ù…:</b> Ø²Ú©ÙˆÙ°Ûƒ ØªØ¨ ØªÚ© ÙˆØ§Ø¬Ø¨ Ù†ÛÛŒÚº Ø¬Ø¨ ØªÚ© Ú©Û ÙˆØµÙˆÙ„ Ù†Û ÛÙˆ Ø¬Ø§Ø¦Û’ Ø§ÙˆØ± Ù¾Ú¾Ø± Ø§Ø³ Ù¾Ø± Ø§ÛŒÚ© Ù…Ú©Ù…Ù„ Ù‚Ù…Ø±ÛŒ Ø³Ø§Ù„ Ù†Û Ú¯Ø²Ø± Ø¬Ø§Ø¦Û’Û”</li>
                    </ul>
                    <br/>
                    <b>Ø¹Ù…Ù„ÛŒ Ù†Ú©Ø§Øª (ÙÙ‚Û Ø­Ù†ÙÛŒ):</b>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>Ù†Ø§Ù‚Ø§Ø¨Ù„ ÙˆØµÙˆÙ„/Ù…Ø´Ú©ÙˆÚ© Ù‚Ø±Ø¶:</b> Ø§Ú¯Ø± ÙˆØµÙˆÙ„ÛŒ Ù…ÛŒÚº ÙˆØ§Ù‚Ø¹ÛŒ Ø´Ú© ÛÙˆØŒ ØªÙˆ ÙˆØµÙˆÙ„ÛŒ ØªÚ© Ø²Ú©ÙˆÙ°Ûƒ Ù†ÛÛŒÚºØ› Ù¾Ú¾Ø± ÙˆØµÙˆÙ„ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ Ù…Ù†Ø¯Ø±Ø¬Û Ø¨Ø§Ù„Ø§ Ø§ØµÙˆÙ„ Ù„Ø§Ú¯Ùˆ Ú©Ø±ÛŒÚºÛ”</li>
                        <li><b>Ø¬Ø²ÙˆÛŒ ÙˆØµÙˆÙ„ÛŒ:</b> Ø²Ú©ÙˆÙ°Ûƒ ØµØ±Ù Ø§Ø³ÛŒ Ø±Ù‚Ù… Ù¾Ø± Ù„Ø§Ú¯Ùˆ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ùˆ Ø¯Ø±Ø­Ù‚ÛŒÙ‚Øª ÙˆØµÙˆÙ„ Ú©ÛŒ Ú¯Ø¦ÛŒ ÛÙˆÛ”</li>
                        <li><b>Ù†ÛŒØª:</b> Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ù†ÛŒØª ÙˆØµÙˆÙ„ÛŒ Ú©Û’ Ø¨Ø¹Ø¯ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ ÙˆÙ‚Øª Ú©ÛŒ Ø¬Ø§ØªÛŒ ÛÛ’Û”</li>
                    </ul>
                `,
                class: 'eligibility' 
            },
            {
                title_en: "8. Zakah on Provident Funds (PF)", 
                title_ur: "8. Ù¾Ø±Ø§ÙˆÛŒÚˆÙ†Ù¹ ÙÙ†ÚˆØ² (PF) Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ", 
                content: `
                    <b>Ownership and Obligation:</b> A Provident Fund remains under the ownership of the employee. Therefore, if the employee is the owner of a Nisab (the minimum threshold of wealth), Zakah on this amount becomes Fard (obligatory) every year.
                    <br/><br/>
                    <b>Starting Point:</b> The obligation to pay Zakah on the fund begins from the time the money first started being saved in the account.
                    <br/><br/>
                    <b>Payment Timing:</b> While the Zakah is technically due every year, it is often treated as a debt that the employee will receive later. For such cases, the obligation to pay the calculated Zakah for previous years arises when the person actually receives at least one-fifth (1/5th) part of the amount of the Nisab.
                `,
                urdu: `
                    <b>Ù…Ù„Ú©ÛŒØª Ø§ÙˆØ± ÙØ±Ø¶ÛŒØª:</b> Ù¾Ø±Ø§ÙˆÛŒÚˆÙ†Ù¹ ÙÙ†Úˆ Ù…Ù„Ø§Ø²Ù… Ú©ÛŒ Ù…Ù„Ú©ÛŒØª Ù…ÛŒÚº Ø±ÛØªØ§ ÛÛ’Û” Ù„ÛÙ°Ø°Ø§ØŒ Ø§Ú¯Ø± Ù…Ù„Ø§Ø²Ù… ØµØ§Ø­Ø¨Ù Ù†ØµØ§Ø¨ (Ù…Ø§Ù„ Ú©ÛŒ Ú©Ù… Ø§Ø² Ú©Ù… Ø­Ø¯) ÛÙˆ ØªÙˆ Ø§Ø³ Ø±Ù‚Ù… Ù¾Ø± ÛØ± Ø³Ø§Ù„ Ø²Ú©ÙˆÙ°Ûƒ ÙØ±Ø¶ ÛÙˆ Ø¬Ø§ØªÛŒ ÛÛ’Û”
                    <br/><br/>
                    <b>Ø¢ØºØ§Ø² Ú©Ø§ ÙˆÙ‚Øª:</b> ÙÙ†Úˆ Ù¾Ø± Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ Ø§ÙØ³ ÙˆÙ‚Øª Ø³Û’ Ø´Ø±ÙˆØ¹ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ø¨ Ø³Û’ Ø§Ú©Ø§Ø¤Ù†Ù¹ Ù…ÛŒÚº Ù¾ÛÙ„ÛŒ Ø¨Ø§Ø± Ø±Ù‚Ù… Ø¬Ù…Ø¹ ÛÙˆÙ†Ø§ Ø´Ø±ÙˆØ¹ ÛÙˆØ¦ÛŒ ÛÙˆÛ”
                    <br/><br/>
                    <b>Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Ø§ ÙˆÙ‚Øª:</b> Ø§Ú¯Ø±Ú†Û Ø²Ú©ÙˆÙ°Ûƒ ØªÚ©Ù†ÛŒÚ©ÛŒ Ø·ÙˆØ± Ù¾Ø± ÛØ± Ø³Ø§Ù„ ÙˆØ§Ø¬Ø¨ ÛÙˆØªÛŒ ÛÛ’ØŒ Ù„ÛŒÚ©Ù† Ø§Ø³Û’ Ø§Ú©Ø«Ø± Ø§ÛŒÚ© Ù‚Ø±Ø¶ Ø³Ù…Ø¬Ú¾Ø§ Ø¬Ø§ØªØ§ ÛÛ’ Ø¬Ùˆ Ù…Ù„Ø§Ø²Ù… Ú©Ùˆ Ø¨Ø¹Ø¯ Ù…ÛŒÚº Ù…Ù„Û’ Ú¯Ø§Û” Ø§ÛŒØ³Û’ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…ÛŒÚºØŒ Ù¾Ú†Ú¾Ù„Û’ Ø³Ø§Ù„ÙˆÚº Ú©ÛŒ Ø­Ø³Ø§Ø¨ Ø´Ø¯Û Ø²Ú©ÙˆÙ°Ûƒ Ø§Ø¯Ø§ Ú©Ø±Ù†Û’ Ú©ÛŒ Ø°Ù…Û Ø¯Ø§Ø±ÛŒ Ø§ÙØ³ ÙˆÙ‚Øª Ø¹Ø§Ø¦Ø¯ ÛÙˆØªÛŒ ÛÛ’ Ø¬Ø¨ Ø´Ø®Øµ Ù†ØµØ§Ø¨ Ú©ÛŒ Ø±Ù‚Ù… Ú©Ø§ Ú©Ù… Ø§Ø² Ú©Ù… Ù¾Ø§Ù†Ú†ÙˆØ§Úº Ø­ØµÛ (1/5) Ø¯Ø±Ø­Ù‚ÛŒÙ‚Øª ÙˆØµÙˆÙ„ Ú©Ø± Ù„Û’Û”
                `,
                class: 'important'
            },
            {
                title_en: "9. Zakat Recipients and Exclusions", 
                title_ur: "9. Ø²Ú©ÙˆÙ°Ûƒ Ú©Û’ Ù…Ø³ØªØ­Ù‚ÛŒÙ† Ø§ÙˆØ± Ù…Ø³ØªØ«Ù†ÛŒÙ° Ø§ÙØ±Ø§Ø¯", 
                content: `
                    Zakat must be paid to specific, designated recipients (Mustahiqqeen) defined in the Qur'an, such as the poor (Faqeer), the needy (Miskeen), and those overburdened by debt (Ghaarim).
                    <br/><br/>
                    <b>Exclusions:</b> Zakat cannot be given to your direct ascendants (Parents, Grandparents), direct descendants (Children, Grandchildren), your spouse (Husband/Wife), or the descendants of the Prophet (Banu Hashim/Syeds).
                `,
                urdu: `
                    Ø²Ú©ÙˆÙ°Ûƒ Ù‚Ø±Ø¢Ù† Ù…ÛŒÚº Ø¨ÛŒØ§Ù† Ú©Ø±Ø¯Û Ù…Ø®ØµÙˆØµ Ù…Ø³ØªØ­Ù‚ÛŒÙ† (Ø¬ÛŒØ³Û’ ÙÙ‚ÛŒØ±ØŒ Ù…Ø³Ú©ÛŒÙ† Ø§ÙˆØ± Ù…Ù‚Ø±ÙˆØ¶) Ú©Ùˆ Ø§Ø¯Ø§ Ú©ÛŒ Ø¬Ø§Ù†ÛŒ Ú†Ø§ÛÛŒÛ’Û”
                    <br/><br/>
                    <b>Ø§Ø³ØªØ«Ù†ÛŒÙ°:</b> Ø²Ú©ÙˆÙ°Ûƒ Ø§Ù¾Ù†Û’ Ø¨Ø±Ø§ÛÙ Ø±Ø§Ø³Øª Ø§ØµÙˆÙ„ (ÙˆØ§Ù„Ø¯ÛŒÙ†ØŒ Ø¯Ø§Ø¯Ø§/Ø¯Ø§Ø¯ÙŠ)ØŒ ÙØ±ÙˆØ¹ (Ø§ÙˆÙ„Ø§Ø¯ØŒ Ù¾ÙˆØªÛ’/Ù¾ÙˆØªÛŒØ§Úº)ØŒ Ø§Ù¾Ù†Û’ Ø´Ø±ÛŒÚ© Ø­ÛŒØ§Øª (Ø´ÙˆÛØ±/Ø¨ÛŒÙˆÛŒ)ØŒ Ø£Ùˆ Ø§Ù„Ù†Ø¨ÙŠ Ø§Ú©Ø±Ù… ï·º Ú©Û’ Ø®Ø§Ù†Ø¯Ø§Ù† (Ø¨Ù†Ùˆ ÛØ§Ø´Ù…/Ø³Ø§Ø¯Ø§Øª) Ú©Ùˆ Ù†ÛÛŒÚº Ø¯ÛŒ Ø¬Ø§ Ø³Ú©ØªÛŒÛ”
                `,
                class: 'eligibility'
            },
            {
                title_en: "10. Mandatory Payment Requirements", 
                title_ur: "10. Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ù„Ø§Ø²Ù…ÛŒ Ø´Ø±Ø§Ø¦Ø·", 
                content: `
                    The Zakat payment is only valid if two requirements are met:<br/>
                    <ul class="list-disc ml-5 mt-2 space-y-1">
                        <li><b>Intention (Niyyat):</b> The mandatory intention to pay Zakat must be present at the time of giving.</li>
                        <li><b>Transfer of Ownership (Tamleek):</b> The wealth must be physically transferred to a legitimate recipient (Mustahiq), granting them full ownership.</li>
                    </ul>
                `,
                urdu: `
                    Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ ØµØ±Ù Ø¯Ùˆ Ø´Ø±Ø§Ø¦Ø· Ù¾ÙˆØ±ÛŒ ÛÙˆÙ†Û’ Ù¾Ø± ÛÛŒ Ø¯Ø±Ø³Øª ÛÙˆ Ú¯ÛŒ:<br/>
                    <ul dir="rtl" class="list-disc mr-5 mt-2 space-y-1 text-right" style="list-style-position: inside;">
                        <li><b>Ù†ÛŒØª (Niyyat):</b> Ø²Ú©ÙˆÙ°Ûƒ Ø¯ÛŒÙ†Û’ Ú©Û’ ÙˆÙ‚Øª Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒ Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©ÛŒ Ù„Ø§Ø²Ù…ÛŒ Ù†ÛŒØª Ù…ÙˆØ¬ÙˆØ¯ ÛÙˆÛ”</li>
                        <li><b>Ù…Ù„Ú©ÛŒØª Ø³Ù¾Ø±Ø¯ Ú©Ø±Ù†Ø§ (Tamleek):</b> Ù…Ø§Ù„ Ú©Ùˆ Ú©Ø³ÛŒ Ù…Ø³ØªØ­Ù‚ Ú©Ùˆ Ø¬Ø³Ù…Ø§Ù†ÛŒ Ø·ÙˆØ± Ù¾Ø± Ø³Ù¾Ø±Ø¯ Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’ØŒ ØªØ§Ú©Û ÙˆÛ Ø§Ø³ Ú©Ø§ Ù…Ú©Ù…Ù„ Ù…Ø§Ù„Ú© Ø¨Ù† Ø¬Ø§Ø¦Û’Û”</li>
                    </ul>
                `,
                class: 'important'
            },
        ];

        // --- UI Rendering Functions ---

        function createInputItem(dataItem, isUrdu) {
            const container = document.createElement('div');
            // Core class for stacking on mobile
            container.className = 'input-item-row text-sm'; 
            
            // Add desktop-only reversal for RTL
            if (isUrdu) {
                container.classList.add('rtl-row-desktop');
            }

            const label = document.createElement('label');
            // V5: Ensure nastaliq-font is applied to the label for aggressive wrapping CSS
            label.className = `text-gray-700 font-medium ${isUrdu ? 'nastaliq-font text-right' : ''}`;
            label.htmlFor = dataItem.id;
            label.innerText = isUrdu ? dataItem.label_ur : dataItem.label_en;
            
            const input = document.createElement('input');
            input.type = 'text';
            input.id = dataItem.id;
            input.inputMode = 'numeric';
            input.placeholder = '0';
            input.className = 'text-right text-sm'; 
            
            input.value = dataItem.value === 0 ? '' : formatCurrency(dataItem.value); 
            
            input.addEventListener('input', formatAndCleanInput);

            // Append order remains Label then Input, the CSS handles the row reversal for RTL on wide screens
            container.appendChild(label);
            container.appendChild(input);

            return container;
        }
        
        function renderInputs() {
            const isUrdu = currentLang === 'ur';

            const updateDataFromInputs = (dataArray) => {
                dataArray.forEach(item => {
                    const inputElement = document.getElementById(item.id);
                    if (inputElement) {
                        item.value = cleanInput(item.id);
                    }
                });
            };

            updateDataFromInputs(assetsData);
            updateDataFromInputs(receivablesData);
            updateDataFromInputs(liabilitiesData);

            document.getElementById('assets-list').innerHTML = '';
            assetsData.forEach(item => {
                document.getElementById('assets-list').appendChild(createInputItem(item, isUrdu));
            });

            document.getElementById('receivables-list').innerHTML = '';
            receivablesData.forEach(item => {
                document.getElementById('receivables-list').appendChild(createInputItem(item, isUrdu));
            });

            document.getElementById('liabilities-list').innerHTML = '';
            liabilitiesData.forEach(item => {
                document.getElementById('liabilities-list').appendChild(createInputItem(item, isUrdu));
            });
            
            // Handle Silver Price row class
            const silverPriceRow = document.getElementById('silver-price-row');
            silverPriceRow.classList.toggle('rtl-row-desktop', isUrdu);
            
            document.getElementById('silver-price').addEventListener('input', formatAndCleanInput);
        }

        function renderRulings() {
            const isUrdu = currentLang === 'ur';
            const rulingsContainer = document.getElementById('rulings-content');
            rulingsContainer.innerHTML = '';
            
            const direction = isUrdu ? 'rtl' : 'ltr';
            rulingsContainer.style.direction = direction;

            rulingsData.forEach(ruling => {
                const card = document.createElement('div');
                card.className = `ruling-card p-4 rounded-lg shadow-sm ${ruling.class}`;
                
                const title = document.createElement('h4');
                title.className = `font-bold mb-1 ${isUrdu ? 'nastaliq-font text-xl text-right' : 'text-lg'}`;
                title.innerText = isUrdu ? ruling.title_ur : ruling.title_en;

                const content = document.createElement('div');
                content.className = `text-sm ${isUrdu ? 'nastaliq-font text-right' : 'text-gray-700'}`;
                content.innerHTML = isUrdu ? ruling.urdu : ruling.content;

                card.appendChild(title);
                card.appendChild(content);
                rulingsContainer.appendChild(card);
            });
        }

        function updateUIForLanguage() {
            const strings = langStrings[currentLang];
            const isUrdu = currentLang === 'ur';

            // Set main text direction
            document.getElementById('main-content').classList.toggle('nastaliq-font', isUrdu);
            document.getElementById('main-content').style.direction = isUrdu ? 'rtl' : 'ltr';
            
            // Get references to static labels
            const staticLabels = [
                { id: 'label-zakat-date', isNastaliq: isUrdu, isCompact: false },
                { id: 'nisab-criteria-text', isNastaliq: isUrdu, isCompact: false },
                { id: 'label-silver-price', isNastaliq: isUrdu, isCompact: false },
                { id: 'label-calculated-nisab', isNastaliq: isUrdu, isCompact: false },
                { id: 'total-assets-label', isNastaliq: isUrdu, isCompact: false },
                { id: 'total-receivables-label', isNastaliq: isUrdu, isCompact: false },
                { id: 'total-liabilities-label', isNastaliq: isUrdu, isCompact: false },
                { id: 'total-zakat-able-label', isNastaliq: isUrdu, isCompact: true },
                { id: 'net-wealth-label', isNastaliq: isUrdu, isCompact: true },
                { id: 'final-zakat-label', isNastaliq: isUrdu, isCompact: false },
                { id: 'nisab-status-text', isNastaliq: isUrdu, isCompact: false },
            ];

            // Set all labels text and apply font class
            staticLabels.forEach(item => {
                const element = document.getElementById(item.id);
                if (element) {
                    element.classList.toggle('nastaliq-font', item.isNastaliq);
                    // Apply special compact class for summary items in Urdu
                    if (item.isCompact && item.isNastaliq) {
                        element.classList.add('nastaliq-compact');
                    } else {
                        element.classList.remove('nastaliq-compact');
                    }
                }
            });


            // Set text content
            document.getElementById('main-title').innerText = strings.title;
            document.getElementById('main-subtitle').innerText = strings.subtitle;
            document.getElementById('lang-toggle-btn').innerText = strings.toggle;
            document.getElementById('label-zakat-date').innerText = strings.zakatDate;
            document.getElementById('nisab-criteria-text').innerText = strings.nisabCriteria;
            document.getElementById('label-silver-price').innerText = strings.silverPriceLabel;
            document.getElementById('label-calculated-nisab').innerText = strings.calculatedNisab;
            document.getElementById('part1-title').innerText = strings.part1Title;
            document.getElementById('total-assets-label').innerText = strings.totalAssets;
            document.getElementById('part2-title').innerText = strings.part2Title;
            document.getElementById('total-receivables-label').innerText = strings.totalReceivables;
            document.getElementById('part3-title').innerText = strings.part3Title;
            document.getElementById('total-liabilities-label').innerText = strings.totalLiabilities;
            document.getElementById('part4-title').innerText = strings.part4Title;
            document.getElementById('total-zakat-able-label').innerText = strings.totalZakatAble;
            document.getElementById('net-wealth-label').innerText = strings.netWealth;
            document.getElementById('final-zakat-label').innerText = strings.finalZakat;
            document.getElementById('share-button-text').innerText = strings.shareText;
            document.getElementById('pwa-info-button-text').innerText = strings.pwaInfoText;
            document.getElementById('rulings-header').innerText = strings.rulingsHeader;
            document.getElementById('footer-text').innerText = strings.footer;
            document.getElementById('developed-by-text').innerText = strings.developedBy;
            
            // Update Nisab card direction
            document.getElementById('nisab-card').style.direction = isUrdu ? 'rtl' : 'ltr';


            // Re-render dynamic content
            renderInputs();
            renderRulings();
            calculateZakat(); // Recalculate to update status text

            // Update placeholder/visibility for date input
            document.getElementById('lunar-date').placeholder = isUrdu ? 'Ù…Ø«Ù„Ø§Ù‹: ÛŒÚ©Ù… Ø±Ù…Ø¶Ø§Ù† Ù¡Ù¤Ù¤Ù§Ú¾' : 'e.g., 1st of Ramadan 1447 AH';
            document.getElementById('silver-price').classList.toggle('nastaliq-font', isUrdu);
            document.getElementById('lunar-date').classList.toggle('nastaliq-font', isUrdu);
        }

        function switchLanguage() {
            currentLang = currentLang === 'en' ? 'ur' : 'en';
            updateUIForLanguage();
        }


        // --- Modal/Sharing Functions (Using custom modal instead of alert/confirm) ---

        function showModal(title, content) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('message-overlay').classList.remove('hidden');
            document.getElementById('message-overlay').classList.add('flex');
        }

        function hideModal() {
            document.getElementById('message-overlay').classList.add('hidden');
            document.getElementById('message-overlay').classList.remove('flex');
        }

        function showPwaInfo() {
            const strings = langStrings[currentLang];
            showModal(strings.modalTitle, strings.modalContent);
        }

        function shareResults() {
            const netWealth = document.getElementById('net-wealth').innerText;
            const zakatPayable = document.getElementById('zakat-payable').innerText;
            const totalAssets = document.getElementById('total-assets').innerText;
            const totalReceivables = document.getElementById('total-receivables').innerText;
            const totalLiabilities = document.getElementById('total-liabilities').innerText;
            const nisabStatus = document.getElementById('nisab-status-text').innerText;
            const strings = langStrings[currentLang];
            const isUrdu = currentLang === 'ur';
            const date = new Date().toLocaleDateString();
            
            // Get Zakat Year End Date Value
            const zakatDate = document.getElementById('lunar-date').value || (isUrdu ? "Ø¯Ø±Ø¬ Ù†ÛÛŒÚº Ú©ÛŒ Ú¯Ø¦ÛŒ" : "Not Specified");

            // Constructing a formatted, emoji-enriched summary string
            let summary = "";

            if (isUrdu) {
                summary = `ğŸŒ™ *Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒÙ„Ú©ÙˆÙ„ÛŒÙ¹Ø± - Ø®Ù„Ø§ØµÛ* ğŸŒ™\n` +
                          `ğŸ“… Ø­Ø³Ø§Ø¨ Ú©ÛŒ ØªØ§Ø±ÛŒØ®: ${date}\n` +
                          `ğŸ—“ï¸ *Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø³Ø§Ù„ Ù…Ú©Ù…Ù„:* ${zakatDate}\n` +
                          `-----------------------------\n\n` +
                          `ğŸ’° *Ú©ÙÙ„ Ø§Ø«Ø§Ø«Û’:* ${totalAssets}\n` +
                          `â• *ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„:* ${totalReceivables}\n` +
                          `ğŸ“‰ *Ú©ÙÙ„ ÙˆØ§Ø¬Ø¨Ø§Øª:* ${totalLiabilities}\n` +
                          `-----------------------------\n` +
                          `ğŸ“Š *Ø®Ø§Ù„Øµ Ù…Ø§Ù„:* ${netWealth}\n` +
                          `(Ø§Ø«Ø§Ø«Û’ + ÙˆØ§Ø¬Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ - ÙˆØ§Ø¬Ø¨Ø§Øª)\n\n` +
                          `âœ¨ *Ø­ÛŒØ«ÛŒØª:* ${nisabStatus}\n\n` +
                          `ğŸ•‹ *ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¯Ø§ Ø²Ú©ÙˆÙ°Ûƒ:* ${zakatPayable}\n\n` +
                          `-----------------------------\n` +
                          `âš ï¸ *ÙˆØ¶Ø§Ø­Øª:* ÛŒÛ Ù†ØªØ§Ø¦Ø¬ Ø¢Ù¾ Ú©Û’ Ø¯Ø±Ø¬ Ú©Ø±Ø¯Û ÚˆÛŒÙ¹Ø§ Ù¾Ø± Ù…Ø¨Ù†ÛŒ ÛÛŒÚºÛ” Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ù¾ÛŒÚ†ÛŒØ¯Û ØµÙˆØ±ØªØ­Ø§Ù„ Ù…ÛŒÚº Ù…Ø³ØªÙ†Ø¯ Ù…ÙØªÛŒ Ø³Û’ Ø±Ø¬ÙˆØ¹ Ú©Ø±ÛŒÚºÛ”\n\n` +
                          `ğŸ“± *Ø²Ú©ÙˆÙ°Ûƒ Ú©ÛŒÙ„Ú©ÙˆÙ„ÛŒÙ¹Ø± Ø§ÛŒÙ¾* - ÙÙ‚Û Ø­Ù†ÙÛŒ\n` +
                          `ØªÛŒØ§Ø± Ú©Ø±Ø¯Û: Ø¯Ø§Ø±Ø§Ù„Ø§ÙØªØ§Ø¡ Ø§Ù„Ù†ÙˆØ± / Ø§Ø¨Ùˆ Ø§Ù„Ù„ÛŒØ« Ù…Ø­Ù…Ø¯ Ø·Ø§ÛØ± Ù‚Ø§Ø¯Ø±ÛŒ`;
            } else {
                summary = `ğŸŒ™ *Zakat Calculator Summary* ğŸŒ™\n` +
                          `ğŸ“… Calculation Date: ${date}\n` +
                          `ğŸ—“ï¸ *Zakat Year End:* ${zakatDate}\n` +
                          `-----------------------------\n\n` +
                          `ğŸ’° *Total Assets:* ${totalAssets}\n` +
                          `â• *Receivables:* ${totalReceivables}\n` +
                          `ğŸ“‰ *Liabilities:* ${totalLiabilities}\n` +
                          `-----------------------------\n` +
                          `ğŸ“Š *Net Wealth:* ${netWealth}\n` +
                          `(Assets + Receivables - Liabilities)\n\n` +
                          `âœ¨ *Status:* ${nisabStatus}\n\n` +
                          `ğŸ•‹ *FINAL ZAKAT PAYABLE:* ${zakatPayable}\n\n` +
                          `-----------------------------\n` +
                          `âš ï¸ *Disclaimer:* Results are based on the data entered. Consult an authentic Mufti for detailed information in case of any confusion.\n\n` +
                          `ğŸ“± *Calculated using Zakat Calculator App*\n` +
                          `Developed by: Abul Laith Muhammad Tahir Qadri`;
            }

            // Use execCommand('copy') as navigator.clipboard.writeText may not work in iframes
            const tempInput = document.createElement('textarea');
            tempInput.value = summary;
            document.body.appendChild(tempInput);
            tempInput.select();
            
            let success = false;
            try {
                success = document.execCommand('copy');
            } catch (err) {
                console.error('Copy failed:', err);
            }
            document.body.removeChild(tempInput);

            if (success) {
                 showModal(
                    currentLang === 'en' ? "Summary Copied!" : "Ø®Ù„Ø§ØµÛ Ú©Ø§Ù¾ÛŒ ÛÙˆ Ú¯ÛŒØ§!",
                    currentLang === 'en' ? "The Zakat summary has been copied to your clipboard. You can now paste it into any message or note." : "Ø²Ú©ÙˆÙ°Ûƒ Ú©Ø§ Ø®Ù„Ø§ØµÛ Ø¢Ù¾ Ú©Û’ Ú©Ù„Ù¾ Ø¨ÙˆØ±Úˆ Ù…ÛŒÚº Ú©Ø§Ù¾ÛŒ Ú©Ø± Ù„ÛŒØ§ Ú¯ÛŒØ§ ÛÛ’Û” Ø§Ø¨ Ø¢Ù¾ Ø§Ø³Û’ Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ù¾ÛŒØºØ§Ù… Ø£Ùˆ Ù†ÙˆÙ¹ Ù…ÛŒÚº Ù¾ÛŒØ³Ù¹ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”"
                );
            } else {
                 showModal(
                    currentLang === 'en' ? "Copy Failed" : "Ú©Ø§Ù¾ÛŒ Ù…ÛŒÚº Ù†Ø§Ú©Ø§Ù…ÛŒ",
                    currentLang === 'en' ? "Could not automatically copy. Please manually select and copy the text." : "Ø®ÙˆØ¯Ú©Ø§Ø± Ø·Ø±ÛŒÙ‚Û’ Ø³Û’ Ú©Ø§Ù¾ÛŒ Ù†ÛÛŒÚº ÛÙˆ Ø³Ú©Ø§Û” Ø¨Ø±Ø§Ø¦Û’ Ù…ÛØ±Ø¨Ø§Ù†ÙŠ Ù…ØªÙ† Ú©Ùˆ Ø¯Ø³ØªÛŒ Ø·ÙˆØ± Ù¾Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø± Ú©Û’ Ú©Ø§Ù¾ÙŠ Ú©Ø±ÛŒÚºÛ”"
                );
            }
        }


        // --- Initialization ---

        window.onload = function() {
            // Set up initial UI
            updateUIForLanguage();
        }

        
    </script>
</body>
</html>


